import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt


def plot_diff(all_data, label):
    data_num = len(all_data)
    difference = all_data['difference']

    print(difference)
    epochs = len(difference)

    x = np.array([i for i in range(epochs)])
    difference = np.array(difference)
    max_loss = max(difference)

    plt.title('color difference')

    plt.plot(x, difference, color='cyan', label='diff')
    # plt.legend()
    plt.xlabel('epoch')
    plt.ylabel('diff')
    plt.axis([0, epochs+5, 0, max_loss])
    if label == 'mse':
        plt.savefig('mse_diff_curves.png')
    elif label == 'custome':
        plt.savefig('custome_diff_curves.png')
    else:
        plt.savefig('nopretrain_diff.png')

    plt.show()
    plt.cla()
    plt.clf()
    plt.close()

if __name__ == "__main__":

    # no pretrain     use traing data
    no_pretrain = {'difference': [10.91215807941564, 16.744609681540638, 14.549419502758202, 16.945574514829246, 9.07454093440717,
                    10.274676743156544, 11.025097862946781, 8.857544277170922, 10.93692322940147, 7.595281456343276,
                    10.338332216717575, 7.912750470038161, 5.925321486051014, 7.066733499634503, 6.706889989648105,
                    5.92262911467874, 7.4203676153924905, 5.546208992065439, 6.433172225111983, 8.245112409835968,
                    5.73319988102907, 5.499767901666008, 4.918336835193371, 4.049731040937263, 4.090758046453305,
                    6.81785361310747, 5.178766366330946, 4.060927191013592, 4.740845932354968, 3.6112388024657487,
                    3.385947374981734, 4.3199882927080315, 3.4088214996534822, 4.09815268656001, 4.696208940306784,
                    3.7917515655620675, 4.190186879126416, 4.518341188753817, 2.853119927326941, 4.388558307052497,
                    3.3064873735933586, 2.3062289767949373, 3.7650865035628227, 2.2658659620187396, 2.3972239224425906,
                    3.494432313310869, 2.8237424217765312, 1.9351817602457766, 4.01911997653392, 3.324775966643068,
                    2.2219833963347453, 2.468693295401914, 1.987989356290503, 1.8762433300963977, 1.9120158770933247,
                    2.0164997072203636, 1.761892525399486, 4.02973862931294, 3.375635622376208, 2.3800898256149456,
                    2.1396671333310566, 2.0388387947817437, 1.6822048022331486, 1.796751528018725, 2.016745198828995,
                    3.389683003685408, 3.686224891572025, 2.7200034827920314, 2.0389927637195946, 2.414056405661508,
                    2.149000544856761, 2.569037668959593, 2.254212049551773, 2.1283688899807798, 2.222782205420424,
                    2.771050435106229, 1.7351651690683485, 2.280532673844795, 2.014753439426438, 2.2517914192556563,
                    1.6363569833884855, 1.7498032558320662, 2.137185478388356, 2.061895218074739, 1.3358898451787018,
                    1.2453589777688123, 1.2905907066950553, 1.3601265695595668, 1.1433580385261424, 1.204160346615377,
                    1.314579173672967, 0.8981459706532169, 0.89073718622907, 0.8405977734575087, 0.6503605405088199,
                    0.749074632103274, 0.5779663183388878, 0.6235179015694142, 0.5880228598202689, 0.5327014499324064]}

    custome_data = {'difference': [1.9102098681104318, 6.074729200996659, 7.119582722278417, 7.332310872151712, 7.1384326077096425,
                    9.77817061608764, 11.447413047498662, 11.03148389648331, 10.800953766836324, 8.524834926175215,
                    9.721569150556602, 12.827571505026299, 8.909967569220772, 9.814982632413345, 6.598533707020592,
                    8.683056330911127, 6.415190798799642, 7.688162327290266, 8.774026135809937, 7.004316900333034,
                    5.4897675094861915, 5.130908711105129, 5.37564372245777, 3.5608776310907517, 4.862453744994791,
                    4.676046742389499, 4.611402571112706, 4.879382114113753, 5.470287405083127, 4.132580968448746,
                    3.728342447412317, 3.3556152522943545, 5.0111999253911, 3.602738519336679, 4.345741620726485,
                    3.5316009928475864, 3.1349919716077337, 3.2818736304546707, 2.5216010248851872, 3.0817098425307017,
                    2.9056862747827763, 2.5931483595457596, 2.1922555011165032, 2.104364638361249, 5.504858659418532,
                    3.6226963074081135, 2.4655485618263246, 2.942475242113283, 2.559190015065211, 4.121321343235535,
                    2.4425407343710694, 2.9769540492215354, 1.6268278929295292, 1.3904157816351104, 1.3216219092838137,
                    1.4745811268657951, 2.7223809895408455, 1.183497155478647, 1.0475600056641985, 0.8333955223260926,
                    1.0939034210899345, 0.775999390477034, 0.851770979654137, 0.7933566897951252, 1.03631706200305,
                    0.6232300074390215, 1.006279657056101, 0.7700022393269071, 0.7472387911154199, 0.8513182831130743,
                    0.592646899730255, 0.8522861436339437, 0.5696430754241351, 0.5515558717625614, 0.6546799634642295,
                    0.7047051470654968, 0.6057473106213788, 0.6007264220995153, 0.5645060668249422, 0.6618356960164192,
                    0.5762602057533885, 0.5821653512249231, 0.7380280948923422, 0.5434320848045361, 0.5011688050282055,
                    0.48915797121844773, 0.6042442002132236, 0.5265653748292713, 0.4398696676967536, 0.573777955756604,
                    0.4776282569881068, 0.49759767129177795, 0.48489690957541626, 0.5046497084991708,
                    0.3835574530111747, 0.4072860236677, 0.5340509576116069, 0.546684293456449, 0.48172589374506974,
                    0.46498225798925397]}

    nopretrain_data = {'difference': [11.293189537940272, 12.721687074003277, 14.015601899103512, 19.61163160845124, 12.065489695656629,
                    10.49865210834742, 12.455123580952936, 12.097338475319066, 10.630556761173782, 14.651824200730589,
                    11.673083437248216, 8.716400841734565, 10.002054850417112, 8.462331480789201, 6.554409225047099,
                    5.661781599764455, 8.048027271483567, 7.474454823674554, 8.775769485622833, 8.490415023911533,
                    6.981689809886026, 9.933105024951471, 8.026285397367769, 13.542052086449566, 8.45761650555291,
                    12.142264097913175, 6.201174244024897, 8.650939869025793, 6.469307217198766, 12.434747325724791,
                    9.187553820485231, 13.048817565619148, 7.51552940634484, 13.040848638305523, 5.3052818901100975,
                    6.604329935336173, 5.492543083278792, 4.340479601883709, 4.297027720857622, 6.073776486980298,
                    6.144044397647295, 6.068921570719231, 4.487280040987016, 4.767002206916431, 3.8138832251611916,
                    4.314162484604033, 4.46430858168973, 5.2741705299789885, 4.354097135193808, 5.530701824528117,
                    5.189195123086578, 4.418757236064053, 4.914604119298765, 3.544551413266974, 4.103297287028205,
                    3.4951065775345116, 3.306567915657435, 4.200186190851077, 3.3992330999784737, 3.514421352574746,
                    3.109144319001786, 2.5285893633825594, 2.3869363496063323, 1.9630203599149108, 1.869375304867456,
                    3.449954187440056, 2.701261475634199, 3.60617913331875, 2.7225686299161085, 2.229570166920222,
                    1.9014961647825543, 1.9167943526902735, 2.7710849132811837, 2.2626504290123317, 2.1664068372473015,
                    1.5444529567319538, 1.7429261705403618, 1.86160534803696, 1.5399227403709994, 1.484053321267433,
                    1.375536884582153, 1.153609215568877, 1.3856788447823343, 0.9074996482997854, 1.054463796665435,
                    0.8539106209339525, 0.8462019663842315, 0.8409078104713632, 0.8117132934693682, 0.6592580549880631,
                    0.6557947442281279, 0.6369199997039372, 0.6212374245572634, 0.7043087150919206, 0.6415311223119369,
                    0.5807125673043795, 0.7449202828688755, 0.5765947979131082, 0.5541430055151064, 0.5467141143804557]}

    three_mse = {'difference': [14.750094452006747, 17.397552769132602, 10.906967426786315, 13.67818483559549, 12.791475822425914, 11.429721757062264, 8.775062989852511, 9.176862646577325, 11.37511774111361, 10.646990822389325, 9.64276140372061, 8.383411143831907, 7.824684799730637, 8.152355338211953, 6.790400224223099, 7.514282306307338, 8.067310476123685, 10.349040467399284, 7.928927464339477, 4.4531276799498505, 5.910950433260935, 6.943725398482361, 7.356844218008318, 5.366433316699487, 4.614854741359682, 5.658346651722579, 4.09917433401117, 3.6922842196696264, 12.900024754300036, 6.118050695211107, 6.552370271020967, 4.68358760766135, 2.986539935871243, 7.550068400964879, 6.425320624961865, 5.210166271689668, 6.132647641817892, 4.174065792339561, 3.950432066837183, 3.0773587375738023, 6.004125117820519, 3.2621644174697177, 3.449487282940119, 5.980468047118899, 2.7547406881254757, 3.4481297767096564, 1.7208643973289632, 2.3831804708188233, 2.0019443766541793, 3.3810135617341954, 4.25106092069931, 4.469763404900427, 2.009946101745828, 1.490247164219828, 1.5553606691458892, 1.637673425441089, 1.2407766879032431, 0.8091875803673392, 1.0520250796872102, 3.1205359905156183, 1.6787045126934186, 0.7677529091859889, 1.545944249765809, 0.5761985406026517, 1.5301342001912084, 0.7652437583686762, 1.351090590970697, 0.39154676108205444, 1.7902640662735987, 0.9116858776302692, 0.5706348570655531, 1.157469652658759, 0.8873291309809408, 0.8159490412266335, 1.4375145291710907, 0.7293781186246429, 1.8249334830128805, 0.9014762928280371, 0.938448882228933, 0.891759813822232, 0.5818338927239204, 1.325257582264408, 0.9154013234199618, 0.5539757510185488, 1.3554321401786193, 0.5539265202944057, 1.0409863591910273, 0.9563276494707353, 1.0024014548052218, 2.548544023438459, 0.7890758605342563, 0.9513349078547506, 0.5688271518492507, 0.5773938661667648, 0.4483090650909849, 1.3736213106142525, 1.4631417737426116, 2.3174036472463753, 0.5402663125217826, 0.5238591222013051]}

    # data_1 = map(lambda n: n-1,three_mse['difference'])
    # print(data_1)


    # label = 'custome'
    label = 'mse'
    # label = 'nopretrain'
    plot_diff(three_mse, label)

