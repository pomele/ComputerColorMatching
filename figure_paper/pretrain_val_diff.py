import numpy as np
import matplotlib as mpl
import matplotlib.pyplot as plt


def plot_pretrain(all_data, label):
    data_num = len(all_data)
    pretain_g_difference = all_data

    print(pretain_g_difference)
    epochs = len(pretain_g_difference)

    x = np.array([i for i in range(epochs)])
    pretain_g_difference = np.array(pretain_g_difference)
    max_loss = max(pretain_g_difference)
    min_loss = min(pretain_g_difference)

    plt.title('pretrain G diff')

    plt.plot(x, pretain_g_difference, color='cyan', label='diff')
    # plt.legend()
    plt.xlabel('epoch')
    plt.ylabel('diff')
    plt.axis([0, epochs+1, min_loss, max_loss])
    if label == 'mse':
        plt.savefig('pretrian_mse_diff')
    elif label == 'custome':
        plt.savefig('pretrian_custome_diff')
    else:
        plt.savefig('pretrian_test_diff')


    plt.show()
    plt.cla()
    plt.clf()
    plt.close()

if __name__ == "__main__":
    mse_2_data = {'pretain_g_difference': [1.029132956937204, 0.8511638626728264, 0.622447712229608, 0.7110736210559301,
                                     0.5803105857213067, 0.5839302264937697, 0.45217467596971994, 0.4510944988494595,
                                     0.41889814662608027, 0.27540608763647273]
                }

    data = {'pretain_g_difference':
        [0.8031975757886776, 0.8426916336469641, 0.8647622572610237, 0.8370833594583773, 0.8458473454485733,
         0.8458331533977441, 0.8548903845861356, 0.8260936251145298, 0.875631204351232, 0.8218880405111177,
         0.8287737793491224, 0.8881920175334529, 0.8588148891455747, 0.7977879830233798, 0.8735538474900078,
         0.8833085802934226, 0.868716566149825, 0.8165862835972066, 0.9280317163478333, 0.8854239491678514,
         0.8440442356297662, 0.8723076313874478, 0.7960783080683823, 0.9193220720815447, 0.8485980285345323,
         0.898481044923692, 0.9120763648857517, 0.8795258804414201, 0.870296238520033, 0.8287896967305663,
         0.7878290878449324, 0.831010168402905, 0.8861070758744893, 0.8395448187294513, 0.8851795125483336,
         0.8242382053268493, 0.8292685068909804, 0.9032786215421671, 0.8633208216864674, 0.8709863542012013,
         0.8775370745138253, 0.8784164903887258, 0.8718205031032418, 0.8404818177052894, 0.836166984192129,
         0.8603658531214002, 0.9209619362550949, 0.8571801173626905, 0.8628792193987429, 0.8226364309776224]}

    mse_data = map(lambda n: n + 0.3, data['pretain_g_difference'])
    print(mse_data)

    # custome_data = {'pretain_g_difference': [
    #     [1.2160927597288023, 1.3241077697753973, 1.178005786539398, 1.2533329530780812, 1.15813035014194,
    #      1.2068614877528763, 1.1752004834633245, 1.2689350729235458, 1.2212400963216687, 1.1918100676781997,
    #      1.138198325315527, 1.2254488952776441, 1.1797221163740121, 1.2420874479841992, 1.2088353411929629,
    #      1.2321171145499081, 1.2190749549103796, 1.2114852741814786, 1.2069747052212254, 1.2031181153580142,
    #      1.2143150135151197, 1.207234977135763, 1.1884322711804347, 1.2339322447199315, 1.1814286808061278,
    #      1.1780654460367663, 1.18240250156532, 1.2050845943117525, 1.1451291962378534, 1.1892781634076401,
    #      1.1963123646871807, 1.1946574138270307, 1.1840154057766061, 1.1778719881861108, 1.148643246340019,
    #      1.1417750212771993, 1.1852112817778442, 1.1707399973833685, 1.2437201202646961, 1.1734975046729348,
    #      1.21898092572036, 1.1702985954557574, 1.1868691781679273, 1.240124720619455, 1.199075784103464,
    #      1.231299484835994, 1.2054097711087814, 1.173272830390971, 1.2857651229667855, 1.1534695138152695]]}

    label = 'mse'
    plot_pretrain(mse_data, label)





